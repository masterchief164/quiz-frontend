(this["webpackJsonpquiz-frontend"]=this["webpackJsonpquiz-frontend"]||[]).push([[0],{74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(17),r=n.n(a),s=n(7),i=n(84),o=n(86),l=n(43),j=n.n(l).a.create({baseURL:"https://sleepy-eyrie-44003.herokuapp.com/api"}),d=function(){return j.get("/contest/")},b=n(1);var u=function(e){function t(t){var n=t.target.id;"Contest"===n?d().then((function(t){e.setContests(t),e.change(n),console.log(n)})):e.change(n)}return Object(b.jsxs)(i.a,{fixed:"top",className:"scale dark-theme",variant:"dark",expand:"lg",children:[Object(b.jsx)(i.a.Brand,{onClick:t,children:Object(b.jsx)("div",{id:"Home",className:"scaleTitle",children:"Quizzer"})}),Object(b.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(o.a,{className:"mr-auto",children:[Object(b.jsx)(o.a.Link,{id:"Contests",className:"scaleText",onClick:t,children:"Contests"}),Object(b.jsx)(o.a.Link,{id:"Leaderboards",className:"scaleText",onClick:t,children:"Leaderboards"}),Object(b.jsx)(o.a.Link,{id:"newQuiz",className:"scaleText",onClick:t,children:"Create Quiz"})]})})]})},h=n(9),p=n(10),O=n(85),x=n(81);var m=function(e){var t=Object(c.useState)({}),n=Object(s.a)(t,2),a=n[0],r=n[1],i=function(e,t){r((function(n){return console.log(a),Object(p.a)(Object(p.a)({},n),{},Object(h.a)({},e,t))}))},o=function(){(0,e.toggle)((function(e){return!e}))};return Object(b.jsx)("div",{className:"initial",style:{padding:"10vh 35vw"},children:Object(b.jsxs)("div",{className:"form p-3",id:"form",children:[Object(b.jsx)("div",{className:"spacer",style:{height:"6vh",width:"100%"},children:Object(b.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm close btn-extra",onClick:o,children:"Close"})}),Object(b.jsx)(O.a,{children:Object(b.jsxs)(O.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(O.a.Label,{children:"Email"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return i("email",e.target.value)},placeholder:"Enter quiz name"}),Object(b.jsx)(O.a.Label,{children:"Username"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return i("username",e.target.value)},placeholder:"Duration in minutes"}),Object(b.jsx)(O.a.Label,{children:"Name"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return i("name",e.target.value)},placeholder:"Date"}),Object(b.jsx)(O.a.Label,{children:"Password"}),Object(b.jsx)(O.a.Control,{type:"password",onChange:function(e){return i("password",e.target.value)},placeholder:"Time"}),Object(b.jsx)(x.a,{className:"btn btn-lg bg-dark",style:{margin:"2vh"},variant:"dark",type:"submit",onClick:function(t){var n;(n=a,j.post("/participants",n)).then((function(t){console.log(a),200===t.status?(alert("Participant Registered"),e.participant(t.data.data),console.log(t.data.data)):alert("Unable to register! Please try again")})),t.preventDefault(),o()},children:"Register"})]})})]})})},g=n(83);var v=function(e){var t=Object(c.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1];function i(){r((function(e){return!e}))}return a?Object(b.jsx)("div",{className:"test",children:Object(b.jsx)("div",{className:"container-fluid back",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-5",children:[Object(b.jsx)("h1",{className:"display-2",children:"Get Ready To Compete!"}),Object(b.jsx)("div",{className:"des",children:Object(b.jsx)("span",{children:"The best website for participating and hosting quizzing competitions"})}),Object(b.jsxs)("div",{className:"but",children:[Object(b.jsx)("button",{onClick:i,className:"btn btn-lg bg-dark",children:"Register"}),Object(b.jsx)("button",{onClick:i,className:"btn btn-lg bg-dark",children:"Login"})]})]}),Object(b.jsxs)("div",{className:"col-lg-5",children:[Object(b.jsx)("div",{className:"image"}),Object(b.jsx)("div",{className:"desc",children:"Want to host a new quiz? Click on the Create Quiz button to get started"})]})]})})}):Object(b.jsx)(g.a,{in:!0,children:Object(b.jsx)(m,{participant:e.participant,toggle:r})})};var f=function(e){return Object(b.jsx)("div",{className:"col mb-4",children:Object(b.jsx)("div",{className:"card border-0",children:Object(b.jsxs)("div",{className:"card-body",style:{padding:"5px"},children:[Object(b.jsx)("img",{src:"https://dummyimage.com/600x400/000/fff.jpg",className:"card-img-top",alt:"..."}),Object(b.jsx)("h5",{className:"card-title",children:e.title}),Object(b.jsx)("p",{className:"card-text",children:e.host}),Object(b.jsxs)("p",{className:"card-text",children:["Starts : ",e.time]}),Object(b.jsxs)("p",{className:"card-text",children:["Duration : ",e.duration]}),Object(b.jsx)(x.a,{className:"btn btn-dark",onClick:function(){null===e.participant?alert("Please register or login"):(e.change(!1),e.pass(e.contest))},children:"Participate"})]})})})};var C=function(e){return Object(b.jsxs)(O.a.Group,{className:"marginTop",children:[Object(b.jsx)(O.a.Label,{children:e.desc}),Object(b.jsxs)(O.a.Control,{as:"select",onChange:function(t){e.scoring(e.id,t.target.value)},children:[Object(b.jsx)("option",{children:e.opt1}),Object(b.jsx)("option",{children:e.opt2}),Object(b.jsx)("option",{children:e.opt3}),Object(b.jsx)("option",{children:e.opt4})]})]})},N=0;var y=function(e){N=e.participant.id;var t=[];function n(e,n){t[e]=n}return Object(b.jsxs)("div",{className:"initial",children:[e.questions.questions.map((function(e,t){return Object(b.jsx)(C,{id:t,desc:e.desc,opt1:e.opt1,opt2:e.opt2,opt3:e.opt3,opt4:e.opt4,scoring:n},t)})),Object(b.jsx)(x.a,{className:"hello",variant:"dark",type:"submit",onClick:function(){var n=e.participant.score;console.log(e.questions),e.questions.questions.forEach((function(e){t.push(e.correctOpt)})),t.forEach((function(t,c){t===e.correctOpt&&n++})),console.log(n);var c,a,r=e.participant;r.score=n,(c=N,a=r,j.put("/participants/"+c,a)).then((function(){return alert("quiz submitted")}))},children:"Submit Quiz"})]})},k=[];d().then((function(e){k=e}));var L="";var z=function(e){var t=Object(c.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1];function i(e){L=e}return a?Object(b.jsx)("div",{className:"row initial",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"All Contests"}),Object(b.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 ",children:k.data.data.map((function(t){return Object(b.jsx)(f,{id:t._id,title:t.name,duration:t.duration,time:t.time,host:t.organizer,contest:t,participant:e.participant,change:r,pass:i},t._id)}))})]})}):Object(b.jsx)(y,{participant:e.participant,questions:L})},w=n(27);var q=function(e){var t={desc:"",opt1:"",opt2:"",opt3:"",opt4:"",correctOpt:1},n=Object(c.useState)(t),a=Object(s.a)(n,2),r=a[0],i=a[1],o=function(e,t){i((function(n){return Object(p.a)(Object(p.a)({},n),{},Object(h.a)({},e,t))}))};return Object(b.jsx)("section",{className:"test",children:Object(b.jsx)(O.a,{children:Object(b.jsxs)(O.a.Group,{controlId:"form",children:[Object(b.jsx)(O.a.Label,{children:"Question Statement"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return o("desc",e.target.value)},value:r.desc,placeholder:"Enter question description"}),Object(b.jsx)(O.a.Label,{children:"Option 1"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return o("opt1",e.target.value)},value:r.opt1,placeholder:"First Option"}),Object(b.jsx)(O.a.Label,{children:"Option 2"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return o("opt2",e.target.value)},value:r.opt2,placeholder:"Second Option"}),Object(b.jsx)(O.a.Label,{children:"Option 3"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return o("opt3",e.target.value)},value:r.opt3,placeholder:"Third Option"}),Object(b.jsx)(O.a.Label,{children:"Option 4"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return o("opt4",e.target.value)},value:r.opt4,placeholder:"Fourth Option"}),Object(b.jsx)(O.a.Label,{children:"Choose the correct option"}),Object(b.jsxs)(O.a.Control,{as:"select",onChange:function(e){return o("correctOpt",e.target.value)},value:r.correctOpt,children:[Object(b.jsx)("option",{children:"1"}),Object(b.jsx)("option",{children:"2"}),Object(b.jsx)("option",{children:"3"}),Object(b.jsx)("option",{children:"4"})]}),Object(b.jsx)(x.a,{variant:"dark",onClick:function(){console.log(r),e.change(r),i(t)},children:"Add Another"}),Object(b.jsx)(x.a,{variant:"dark",type:"submit",onClick:function(n){e.change(r),e.sub(r),n.preventDefault(),i(t)},children:"Submit"})]})})})},S=[],T=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({}),i=Object(s.a)(r,2),o=i[0],l=i[1],d=function(e,t){l((function(n){return console.log(o),Object(p.a)(Object(p.a)({},n),{},Object(h.a)({},e,t))}))};return n?Object(b.jsx)("div",{className:"test",children:Object(b.jsx)("section",{className:"addQuiz",children:Object(b.jsx)(O.a,{children:Object(b.jsxs)(O.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(O.a.Label,{children:"Quiz Name"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return d("name",e.target.value)},placeholder:"Enter quiz name"}),Object(b.jsx)(O.a.Label,{children:"Duration"}),Object(b.jsx)(O.a.Control,{type:"number",onChange:function(e){return d("duration",e.target.value)},placeholder:"Duration in minutes"}),Object(b.jsx)(O.a.Label,{children:"Date"}),Object(b.jsx)(O.a.Control,{type:"date",onChange:function(e){return d("date",e.target.value)},placeholder:"Date"}),Object(b.jsx)(O.a.Label,{children:"Time"}),Object(b.jsx)(O.a.Control,{type:"time",onChange:function(e){return d("time",e.target.value)},placeholder:"Time"}),Object(b.jsx)(O.a.Label,{children:"Organizer"}),Object(b.jsx)(O.a.Control,{type:"text",onChange:function(e){return d("organizer",e.target.value)},placeholder:"Organizer"}),Object(b.jsx)(x.a,{variant:"dark",type:"submit",onClick:function(e){a(!1),e.preventDefault()},children:"Next"})]})})})}):Object(b.jsx)(q,{formData:o,change:function(e){console.log(e),console.log(S),S=[].concat(Object(w.a)(S),[e]),console.log(S)},sub:function(){var e,t=Object(p.a)(Object(p.a)({},o),{},{questions:S});console.log(t),console.log(S),(e=t,j.post("/contest",e)).then((function(e){200===e.status?alert("Contest Created"):alert("Unfortunately! The contest was not created. Please try again")})),S=[]}})};var D=function(){return Object(b.jsx)("div",{className:"footer",children:Object(b.jsx)("p",{children:"Copyright 2021"})})},E=n(82),Q=[];j.get("/participants").then((function(e){(Q=e.data.data).sort((function(e,t){return e.score>t.score?1:-1}))}));var P=function(){return console.log(Q),Object(b.jsx)("div",{className:"initial",children:Object(b.jsxs)(E.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,className:"table-responsive-lg",size:"xl",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Rank"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Score"}),Object(b.jsx)("th",{children:"Username"})]})}),Object(b.jsx)("tbody",{children:Q.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t+1}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.score}),Object(b.jsx)("td",{children:e.username})]})}))})]})})},R=null;var G=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){d().then((function(e){return a(e)}))}),[]);var r=Object(c.useState)("Home"),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(u,{change:l,contests:n,setContests:a}),"Home"===o?Object(b.jsx)(v,{participant:function(e){R=e,console.log(R)}}):"Contests"===o?Object(b.jsx)(z,{participant:R,contests:n}):"Leaderboards"===o?Object(b.jsx)(P,{}):Object(b.jsx)(T,{}),Object(b.jsx)(D,{})]})};n(73);r.a.render(Object(b.jsx)(G,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.16522ecf.chunk.js.map